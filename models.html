<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>硅基流动模型列表</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .error {
            background: #ffebee;
            color: #c62828;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .model-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .model-card {
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .model-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .model-card h3 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .model-card .model-id {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 15px;
            font-family: monospace;
            background: #f5f5f5;
            padding: 8px;
            border-radius: 4px;
            word-break: break-all;
        }

        .model-card .info {
            color: #555;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .model-card .info-item {
            margin-bottom: 8px;
        }

        .model-card .info-label {
            font-weight: 600;
            color: #333;
        }

        .model-card .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
        }

        .model-card .tag {
            background: #e3f2fd;
            color: #1976d2;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8rem;
        }

        .stats {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .stats h2 {
            color: #333;
            margin-bottom: 15px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .stat-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-item .number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
        }

        .stat-item .label {
            color: #666;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        .filter {
            margin-bottom: 20px;
        }

        .filter input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
        }

        .filter input:focus {
            outline: none;
            border-color: #667eea;
        }

        @media (max-width: 600px) {
            .model-grid {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>硅基流动模型列表</h1>
            <p>全面了解各模型特性并选择最适合的模型</p>
        </div>

        <div class="content">
            <div id="loading" class="loading">
                <p>正在加载模型列表...</p>
            </div>

            <div id="error" class="error" style="display: none;"></div>

            <div id="stats" class="stats" style="display: none;">
                <h2>模型统计</h2>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="number" id="totalModels">0</div>
                        <div class="label">总模型数</div>
                    </div>
                    <div class="stat-item">
                        <div class="number" id="chatModels">0</div>
                        <div class="label">对话模型</div>
                    </div>
                    <div class="stat-item">
                        <div class="number" id="embeddingModels">0</div>
                        <div class="label">嵌入模型</div>
                    </div>
                    <div class="stat-item">
                        <div class="number" id="rerankModels">0</div>
                        <div class="label">重排序模型</div>
                    </div>
                </div>
            </div>

            <div id="filter" class="filter" style="display: none;">
                <input type="text" id="searchInput" placeholder="搜索模型名称、类型或描述...">
            </div>

            <div id="modelGrid" class="model-grid" style="display: none;"></div>
        </div>
    </div>

    <script>
        const API_KEY = 'sk-jtjlznpthxyxvsgmzmvvjzbdvlatwbhswfymntcbyiijmonw';
        const API_URL = 'https://api.siliconflow.cn/v1/models';

        let allModels = [];

        async function fetchModels() {
            const loading = document.getElementById('loading');
            const error = document.getElementById('error');
            const stats = document.getElementById('stats');
            const filter = document.getElementById('filter');
            const modelGrid = document.getElementById('modelGrid');

            try {
                const response = await fetch(API_URL, {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${API_KEY}`
                    }
                });

                if (!response.ok) {
                    throw new Error(`API错误 (${response.status}): ${response.statusText}`);
                }

                const data = await response.json();
                console.log('模型数据:', data);

                if (data.data && Array.isArray(data.data)) {
                    allModels = data.data;
                    displayModels(allModels);
                    displayStats(allModels);
                } else {
                    throw new Error('API返回的数据格式不正确');
                }

            } catch (err) {
                console.error('获取模型列表失败:', err);
                error.textContent = `获取模型列表失败: ${err.message}`;
                error.style.display = 'block';
                loading.style.display = 'none';
            }
        }

        function displayStats(models) {
            const stats = document.getElementById('stats');
            const totalModels = document.getElementById('totalModels');
            const chatModels = document.getElementById('chatModels');
            const embeddingModels = document.getElementById('embeddingModels');
            const rerankModels = document.getElementById('rerankModels');

            const chatCount = models.filter(m => m.id.includes('chat') || m.id.includes('instruct')).length;
            const embeddingCount = models.filter(m => m.id.includes('embedding')).length;
            const rerankCount = models.filter(m => m.id.includes('rerank')).length;

            totalModels.textContent = models.length;
            chatModels.textContent = chatCount;
            embeddingModels.textContent = embeddingCount;
            rerankModels.textContent = rerankCount;

            stats.style.display = 'block';
        }

        function displayModels(models) {
            const loading = document.getElementById('loading');
            const filter = document.getElementById('filter');
            const modelGrid = document.getElementById('modelGrid');

            loading.style.display = 'none';
            filter.style.display = 'block';
            modelGrid.style.display = 'grid';

            modelGrid.innerHTML = models.map(model => createModelCard(model)).join('');
        }

        function createModelCard(model) {
            const modelId = model.id || 'Unknown';
            const modelType = getModelType(modelId);
            const description = getModelDescription(modelId);
            const tags = getModelTags(modelId);

            return `
                <div class="model-card" onclick="copyModelId('${modelId}')">
                    <h3>${getModelDisplayName(modelId)}</h3>
                    <div class="model-id">${modelId}</div>
                    <div class="info">
                        <div class="info-item">
                            <span class="info-label">类型:</span> ${modelType}
                        </div>
                        <div class="info-item">
                            <span class="info-label">描述:</span> ${description}
                        </div>
                    </div>
                    <div class="tags">
                        ${tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                </div>
            `;
        }

        function getModelDisplayName(modelId) {
            if (modelId.includes('DeepSeek')) {
                return modelId.split('/').pop().replace(/-/g, ' ');
            }
            return modelId.split('/').pop();
        }

        function getModelType(modelId) {
            if (modelId.includes('chat') || modelId.includes('instruct')) {
                return '对话模型';
            } else if (modelId.includes('embedding')) {
                return '嵌入模型';
            } else if (modelId.includes('rerank')) {
                return '重排序模型';
            } else {
                return '通用模型';
            }
        }

        function getModelDescription(modelId) {
            const descriptions = {
                'deepseek-ai/DeepSeek-V3': '最新版本，性能最优，适合通用对话和问答',
                'deepseek-ai/DeepSeek-R1': '专注于推理任务，适合逻辑推理和复杂问题',
                'deepseek-ai/DeepSeek-V2.5': '稳定版本，平衡性能和速度',
                'Qwen/Qwen2.5-7B-Instruct': '轻量级模型，响应速度快',
                'Qwen/Qwen2.5-72B-Instruct': '大参数模型，理解能力强',
                'meta-llama/Llama-3.1-8B-Instruct': 'Meta开源模型，轻量高效',
                'meta-llama/Llama-3.1-70B-Instruct': 'Meta开源模型，性能强大',
            };

            for (const [key, value] of Object.entries(descriptions)) {
                if (modelId.includes(key)) {
                    return value;
                }
            }

            return '高性能AI模型，支持多种应用场景';
        }

        function getModelTags(modelId) {
            const tags = [];

            if (modelId.includes('DeepSeek')) {
                tags.push('DeepSeek');
            }
            if (modelId.includes('Qwen')) {
                tags.push('通义千问');
            }
            if (modelId.includes('Llama')) {
                tags.push('Meta');
            }
            if (modelId.includes('chat') || modelId.includes('instruct')) {
                tags.push('对话');
            }
            if (modelId.includes('embedding')) {
                tags.push('嵌入');
            }
            if (modelId.includes('rerank')) {
                tags.push('重排序');
            }
            if (modelId.includes('7B')) {
                tags.push('7B参数');
            }
            if (modelId.includes('70B') || modelId.includes('72B')) {
                tags.push('大参数');
            }

            return tags.length > 0 ? tags : ['通用'];
        }

        function copyModelId(modelId) {
            navigator.clipboard.writeText(modelId).then(() => {
                alert(`已复制模型ID: ${modelId}`);
            }).catch(err => {
                console.error('复制失败:', err);
            });
        }

        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const filteredModels = allModels.filter(model => {
                const modelId = model.id.toLowerCase();
                const displayName = getModelDisplayName(modelId).toLowerCase();
                const description = getModelDescription(modelId).toLowerCase();
                const type = getModelType(modelId).toLowerCase();

                return modelId.includes(searchTerm) ||
                       displayName.includes(searchTerm) ||
                       description.includes(searchTerm) ||
                       type.includes(searchTerm);
            });

            displayModels(filteredModels);
        });

        fetchModels();
    </script>
</body>
</html>
